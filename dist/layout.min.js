// -------------------------------------------------------------
// 
//  _____    _______  ___ ___  _______  _______  _______ 
//  |     |_ |   _   ||   |   ||       ||   |   ||_     _|
//  |       ||       | \     / |   -   ||   |   |  |   |  
//  |_______||___|___|  |___|  |_______||_______|  |___|  
// 
//  v0.0.51
//  2024-09-12T20:35:50-0400
//
//  By Mike Gieson
//  www.gieson.com
// 
// -------------------------------------------------------------





this.jbeeb=this.jbeeb||{},this.jbeeb.utils=this.jbeeb.utils||{},this.jbeeb.utils.Layout=function(){var toggleZone=0,scrollbarSize,mask,splitter_size,all,cells=[],rootList=[],handleOnResizeTimeout,handleOnResizeCompleteTimeout,meReset=0,moveObj,mouseStart,startPos,didMove=!1,amToggling=!1,resizeDone_timeout=null,resizeDoneComplete_timeout=null,STATIC_W="w",STATIC_H="h",STATIC_WIDTH="width",STATIC_HEIGHT="height",STATIC_TOP="top",STATIC_LEFT="left",STATIC_PX="px",LOCAL_STORAGE_PREFIX="layoutRemember_",doc,bodyNode,uuid=0;function init(){(doc=document).body.style.boxSizing="border-box",doc.body.style.overflow="hidden",doc.body.style.width="100%",doc.body.style.height="100%",doc.body.style.margin="0",doc.body.style.padding="0";var e=doc.documentElement;e.style.width="100%",e.style.height="100%",(bodyNode=doc.body).style.width="100%",bodyNode.style.height="100%";var o=(mask=doc.createElement("div")).style;o.position="absolute",o.left="0px",o.top="0px",o.right="0px",o.bottom="0px",o.zIndex=1001;e=doc.createElement("div");e.classList.add("layout-splitter-col"),bodyNode.appendChild(e);o=e.getBoundingClientRect();bodyNode.removeChild(e),splitter_size=o.width,all=doc.querySelectorAll("[data-layout]"),scrollbarSize=getScrollbarSize();o=ripDoc();formatPanels(),resizeThrottle.add(resize),(meReset||o)&&resetRemember()}function ripDoc(){for(var e=restore(),o=!1,t={},r=0;r<all.length;r++){var i=(l=all[r]).id=l.id||"layout_uuid_"+uuid++,n=parseDataset(l);t[i]=n,o=o||n.reset}for(r=0;r<all.length;r++){for(var l,n=t[(l=all[r]).id],s=l.parentNode,a=s;a.dataset.layout;)a=a.parentNode;var m=findSibs(l);o||(n.size=e[l.id]||n.size);var u=parseNumUnits(n.size),d=parseNumUnits(n.min),v=n.row,f=l.currentStyle||window.getComputedStyle(l),p={left:parseInt(f.paddingLeft),right:parseInt(f.paddingRight),top:parseInt(f.paddingTop),bottom:parseInt(f.paddingBottom)},c=l.style;c.boxSizing="border-box";var b=a.getBoundingClientRect();"%"==u.units&&(f=v?b.height:b.width,u.num=f*(u.num/100));var T={elem:l,id:l.id,first:!m.prev,last:!m.next,next:null,prev:null,nextElem:m.next,prevElem:m.prev,w:v?null:u.num,h:v?u.num:null,units:u.units,clickToggle:!n.noclicktoggle,fixed:n.fixed,toggleState:!1,parent:null,parentElem:s,amRoot:s==a,row:v,children:null,rootElem:a,root:null,minSource:d.num,sizeSource:u.num,color:n.color,resizable:!n.noresize,canScroll:!n.noscroll,onResizeComplete:n.onresizecomplete,onResize:n.onresize},u=new RegExp("[^A-Za-z0-1_.]","g");T.onResizeComplete&&(T.onResizeComplete=T.onResizeComplete.replace(u,"")),T.onResize&&(T.onResize=T.onResize.replace(u,"")),T.canScroll||(c.overflow="hidden"),T.color&&(c.backgroundColor=T.color),T.padding=p,c.margin=0,T.amRoot&&(rootList.push(T),c=b.width,b=b.height,T.w=c,T.h=b,T.parent={w:c,h:b}),cells.push(T),T.onResizeComplete||T.onResize}for(r=0;r<cells.length;r++)for(var z=cells[r],O=0;O<cells.length;O++)(T=cells[O]).elem==z.nextElem&&(z.next=T),T.elem==z.prevElem&&(z.prev=T),T.parentElem==z.rootElem&&(z.root=T),T.elem==z.parentElem&&((z.parent=T).children||(T.children=[]),T.children.push(z));return o}function getScrollbarSize(){var e=doc.createElement("div"),o=e.style;o.width="100%",o.height="200px";var t=doc.createElement("div");(o=t.style).position="absolute",o.top=0,o.left=0,o.visibility="hidden",o.width="200px",o.height="150px",o.overflow="hidden",t.appendChild(e),bodyNode.appendChild(t);var r=e.offsetWidth;t.style.overflow="scroll";o=e.offsetWidth;return r==o&&(o=t.clientWidth),t.removeChild(e),bodyNode.removeChild(t),t=null,r-o}function handleScroll(e){e=findObjFromElem(e.target);e.handleOnResizeComplete&&handleOnResizeComplete(e),e.handleOnResize&&handleOnResize(e)}function handleOnResize(obj){var fn=eval(obj.onResize);"function"==typeof fn&&(obj.width=obj.w,obj.height=obj.h,handleOnResizeTimeout&&clearTimeout(handleOnResizeTimeout),handleOnResizeTimeout=setTimeout(function(){fn(obj)},100))}function handleOnResizeComplete(obj){var fn,K;obj.onResizeComplete&&(fn=eval(obj.onResizeComplete),"function"==typeof fn&&(obj.width=obj.w,obj.height=obj.h,handleOnResizeCompleteTimeout&&clearTimeout(handleOnResizeCompleteTimeout),handleOnResizeCompleteTimeout=setTimeout((K=obj,function(){fn(K)}),100)))}function prepSizes(e,o){var t=e.children;if(t){e.row;for(var r=0,i=0,n=[],l=[],s=0;s<t.length;s++){var a=(T=t[s]).w;a<1&&n.push(T),r+=a||0;a=T.h;a<1&&l.push(T),i+=a||0}var m=0,u=0,d=e.parent.w||0,v=e.parent.h||0;if(r!=d&&(m=d-r),i!=v&&(u=v-i),e.row){if(m<0){for(s=0;s<t.length;s++)(c=(e=t[s]).minSource)&&(m+=e.w=c);if(m<0)if(o)for(s=0;s<t.length;s++)(e=t[s]).last&&(e.w+=m);else for(var f=d/t.length,s=0;s<t.length;s++)(e=t[s]).w=f,(c=e.minSource)&&(e.minSource=null)}else for(f=m/n.length,s=0;s<n.length;s++)(e=n[s]).w=f;for(var p=0,s=0;s<t.length;s++)p+=(e=t[s]).w,e.last&&(b=e);(b=b||e)&&(p<d||d<p)&&(b.w+=d-p)}else{if(u<0){for(s=0;s<t.length;s++)(c=(e=t[s]).minSource)&&(e.h_orig=e.h,u+=e.h=c);if(u<0)if(o)for(s=0;s<t.length;s++)(e=t[s]).last&&(e.h+=u);else for(var c,f=v/t.length,s=0;s<t.length;s++)(e=t[s]).h=f,(c=e.minSource)&&(e.minSource=null)}else for(f=u/l.length,s=0;s<l.length;s++)(e=l[s]).h=f;for(var b,p=0,s=0;s<t.length;s++)p+=(e=t[s]).h,e.last&&(b=e);(b=b||e)&&(p<v||v<p)&&(b.h+=v-p)}for(var T,s=0;s<t.length;s++)prepSizes(T=t[s],o)}}function prepRoots(e){for(var o=0;o<rootList.length;o++){var t=rootList[o];t.elem.style.overflow="hidden",prepSizes(t,e)}}function positionPanels(){for(var e=0;e<cells.length;e++){var o=cells[e],t=o.elem,r=t.style;if(r.position="absolute",r.left="0px",r.top="0px",r.right="0px",r.bottom="0px",r.overflow=o.canScroll?"auto":"hidden",!o.amRoot){var i,n=o.row,l=0,s=0,a=!(!o.next||!o.resizable),r=a?splitter_size:0;if(n){for(var m=o.prev,u=0;m&&(l+=m.h,m=m.prev,!(1e3<++u)););o.parent.h,o.h,o.top=l,o.min=l+o.minSource,o.max=l+o.h,t.style.top=l+"px",t.style.height=o.h+"px"}else{for(m=o.prev,u=0;m&&(s+=m.w,m=m.prev,!(1e3<++u)););o.left=s,o.min=s+o.minSource,o.max=s+o.w,t.style.left=s+"px",t.style.width=o.w+"px"}o.splitterElem?(i=o.splitterElem,n?i.style.top=o.max-r+"px":i.style.left=o.max-r+"px"):a&&(i=doc.createElement("div"),n?(i.classList.add("layout-splitter-row"),i.style.top=o.max-r+"px"):(i.classList.add("layout-splitter-col"),i.style.left=o.max-r+"px"),a=doc.createElement("div"),n?a.classList.add("layout-splitter-line-row"):a.classList.add("layout-splitter-line-col"),i.appendChild(a),o.clickToggle&&o.resizable&&(r=doc.createElement("div"),n?r.classList.add("layout-splitter-handle-row"):r.classList.add("layout-splitter-handle-col"),r.classList.add("opened"),a.appendChild(r),o.splitterHandleElem=r),addDomElemListenerWithArgs(a,"mousedown",mouse_down,o),o.parentElem.insertBefore(i,o.nextElem),o.splitterElem=i)}}}function formatPanels(e){prepRoots(e),positionPanels()}function parseDataset(e){for(var o=e.dataset.layout.split(","),t={},r=0;r<o.length;r++){var i,n=o[r].trim().toLowerCase().replace(/ /g,"");i=!/=/.test(n)||(n=(i=n.split("="))[0],i[1]||0),n&&(t[n]=i)}return t}function pauseEvent(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1}function mouse_down(e,o){didMove=!1,pauseEvent(e),doc.addEventListener("mousemove",mouse_move),doc.addEventListener("mouseup",mouse_up),bodyNode.appendChild(mask);var t=(moveObj=o).splitterElem.style;startPos=o.row?(mouseStart=e.clientY,parseFloat(t.top)):(mouseStart=e.clientX,parseFloat(t.left))}function mouse_up(e){doc.removeEventListener("mousemove",mouse_move),doc.removeEventListener("mouseup",mouse_up),bodyNode.removeChild(mask),finishMove()}function finishMove(){var e,o,t;!didMove&&moveObj.clickToggle?(prevState=moveObj.toggleState,moveObj.toggleState=!prevState,prevState?(t=moveObj.toggleOriginalPx,moveObj.splitterHandleElem.classList.remove("closed"),moveObj.splitterHandleElem.classList.add("opened")):(e=moveObj.row?"h":"w",(t=(o=moveObj.prev?moveObj.prev[e]:0)+toggleZone)<2&&(t=2),moveObj.min&&(t=moveObj.min+2),moveObj.toggleOriginalPx=moveObj[e]+o,moveObj.splitterHandleElem.classList.remove("opened"),moveObj.splitterHandleElem.classList.add("closed")),resizePanel(moveObj.elem,t)):(moveObj.onResizeComplete&&handleOnResizeComplete(moveObj),(t=moveObj.next)&&t.onResizeComplete&&handleOnResizeComplete(t),dispatch("globalResizeComplete",moveObj),amToggling=didMove=!1),remember(),formatPanels()}function expand(e){resizePanel(findObjFromElem(e).prev.elem,0)}function findObjFromElem(e){var o;"string"==typeof e&&(e=document.getElementById(e));for(var t=0;t<cells.length;t++){var r=cells[t];if(r.elem==e){o=r;break}}return o}function resizePanel(e,o){o=parseFloat(o);e=findObjFromElem(e);e&&(amToggling=!0,moveObj=e,mouse_move({clientX:o,clientY:o},!(mouseStart=startPos=0)),finishMove())}function scrollPanel(e,o,t){e=findObjFromElem(e);e&&(null!==o&&(e.elem.scrollLeft=parseInt(o)),null!==t&&(e.elem.scrollTop=parseInt(t)))}function mouse_move(e,o){var t=moveObj.row?e.clientY:e.clientX,r=mouseStart<t?t-mouseStart:-(mouseStart-t),e=startPos+r;0<Math.abs(r)&&(didMove=!0);t=!1,r=moveObj.prev;r&&(r.resizable&&e<=moveObj.min&&moveTo(r,e-splitter_size),!r.resizable&&e<r.max&&(t=!0)),t||(r=moveObj.next)&&(r.resizable&&e>r.max&&moveTo(r,e+splitter_size),!r.resizable&&e>r.max&&(t=!0)),t||moveTo(moveObj,e)}function resize(){for(var e=0;e<rootList.length;e++){var o=rootList[e],t=o.rootElem.getBoundingClientRect(),r=t.width,i=t.height,n=r-o.w,t=i-o.h;(n||t)&&(o.parent.w=o.w=r,o.parent.h=o.h=i,o.elem.style.width=r+"px",o.elem.style.height=i+"px",resizeLast(o,n,t))}remember(),resizeDone_timeout&&clearTimeout(resizeDone_timeout),resizeDoneComplete_timeout&&clearTimeout(resizeDoneComplete_timeout),resizeDone_timeout=setTimeout(function(){formatPanels(!0),dispatch("globalResize")},300),resizeDoneComplete_timeout=setTimeout(function(){formatPanels(!0),dispatch("globalResizeComplete")},1e3)}function resizeLast(e,o,t){for(var r=e.children,i=0;i<r.length;i++){var n=r[i];if(n.last){for(var l=0,s=n,a=0;s.prev&&(l++,s=s.prev,!(100<++a)););var m=1<l||n.fixed?n.prev:n;m.row?moveTo(m,m.top+m.h+t,!0):moveTo(m,m.left+m.w+o,!0)}n.children&&resizeLast(n,o,t)}}function moveTo(e,o,t){var r,i,n,l=e.root,s=e.row;o>e.min&&o<(s?l.h:l.w)-splitter_size&&splitter_size<o&&(n=s?(r=STATIC_H,i=STATIC_HEIGHT,STATIC_TOP):(r=STATIC_W,i=STATIC_WIDTH,STATIC_LEFT),(l=e.splitterElem)&&(l.style[n]=o+STATIC_PX),l=(s=o-e[n])-e[r],s<scrollbarSize?e.canScroll&&!e.killedScroll&&(dealWithPadding(e,!0),e.elem.style.display="none",e.killedScroll=!0):e.canScroll&&e.killedScroll&&(dealWithPadding(e),e.elem.style.display="block",e.killedScroll=!1),e[r]=s,e.max=o,e.elem.style[i]=s+STATIC_PX,e.onResize&&handleOnResize(e),dispatch("globalResize",e),(s=e.next)&&(e=s.elem.style,s[n]=o,s.min=o+(s.minSource||0),e[n]=o+splitter_size+STATIC_PX,n=s[r],t||(n-=l),s.max=o+n,s[r]=n,e[i]=n+STATIC_PX,s.onResize&&handleOnResize(s)))}function dealWithPadding(e,o){var t,r=e.padding,i=e.elem.style;o?(t=0,r.left&&(i.paddingLeft=0,t=1),r.right&&(i.paddingRight=0,t=1),r.top&&(i.paddingTop=0,t=1),r.bottom&&(i.paddingBottom=0,t=1),e.hasPadding=t):((e=r.left)&&(i.paddingLeft=e+"px",t=1),(e=r.right)&&(i.paddingRight=e+"px",t=1),(e=r.top)&&(i.paddingTop=e+"px",t=1),(e=r.bottom)&&(i.paddingBottom=e+"px"))}function addDomElemListenerWithArgs(e,o,t,r){var i,n,r=(i=t,n=r,function(e){i(e,n)});return e.addEventListener(o,r),r}function parseNumUnits(e){return"string"==typeof e&&(e=parseFloat(e)),{num:Number(e)||0,units:(""+(e||"")).match(/\%/)?"%":"px"}}function findSibs(e){var o=e.previousSibling,t=e.nextSibling,e={prev:null,next:null};if(o){for(;1!=o.nodeType;)if(!(o=o.previousSibling)){o=null;break}e.prev=o}if(t){for(;1!=t.nodeType;)if(!(t=t.nextSibling)){t=null;break}e.next=t}return e}function remember(e){for(var o=0;o<cells.length;o++){var t=cells[o];localStorage[LOCAL_STORAGE_PREFIX+t.id]=(t.row?t.h:t.w)+"px"}}var ls_re=new RegExp("^"+LOCAL_STORAGE_PREFIX);function restore(){var e,o,t,r={};for(e in localStorage)ls_re.test(e)&&(o=e.replace(ls_re,""),(t=localStorage[e])&&(r[o]=t));return r}function resetRemember(){for(var e in localStorage)e.match(ls_re)&&localStorage.removeItem(e)}var resizeThrottle=(ob=[],pb=!1,{add:function(e){ob.length||window.addEventListener("resize",qb),(e=e)&&ob.push(e)}}),ob,pb;function qb(){pb||(pb=!0,window.requestAnimationFrame?window.requestAnimationFrame(rb):setTimeout(rb,66))}function rb(){ob.forEach(function(e){e()}),pb=!1}var listeners={};function addListener(e,o,t){(listeners[e]||(listeners[e]=[])).push([t&&this,o])}function dispatch(e,o){var t=listeners[e];if(t)for(var r=t.length;r--;)t[r][1].call(t[r][0],e,o)}function removeListener(e,o){var t=listeners[e];if(t)for(var r=t.length;r--;)t[r][1]==o&&t.splice(r,1)}return{init:init,resizePanel:resizePanel,scrollPanel:scrollPanel,addListener:addListener,removeListener:removeListener,expand:expand}}(),document.addEventListener("DOMContentLoaded",jbeeb.utils.Layout.init);
